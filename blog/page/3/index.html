<!doctype html>
<title>Blog — inveniosoftware.org</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="invenio, library, framework, ils, research, data, multimedia, ir, institutional, repository, cern, foss, open, software, model, search, workflows, marc, marc21, python, api, doi, json, memento, oai-pmh, orcid, openaire, rest, zenodo, cds, flask, angular">
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/4.0.1/ekko-lightbox.min.js"></script>
<link rel="icon" href="/static/img/favicon.ico?h=4df2b1b9">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="/static/css/style.css?h=af726eb9">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600|Oswald|Source+Code+Pro:400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/4.0.1/ekko-lightbox.css" />
<body>
  
  
    <section class="header-section " >
      <div class="cover-image">
        
          <header class="header-nav">
  <nav class="navbar navbar-fixed-top invenio-navbar">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#inv-navbar-collapse" aria-controls="inv-navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/" class="navbar-brand">
          <img src="/static/img/logo-invenio-white.svg?h=84611f18" alt="">
        </a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="inv-navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          
            
              <li><a href="/">Home</a></li>
            
          
            
              <li class="dropdown-submenu">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <span class="nav-label">Products</span><span class="caret"></span></a>
                <ul class="dropdown-menu">
                  
                    <li><a href="/products/rdm/">InvenioRDM</a></li>
                  
                    <li><a href="/products/ils/">InvenioILS</a></li>
                  
                    <li><a href="/products/framework/">Invenio Framework</a></li>
                  
                </ul>
              </li>
            
          
            
              <li><a href="/showcase/">Examples</a></li>
            
          
            
              <li class="dropdown-submenu">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <span class="nav-label">Community</span><span class="caret"></span></a>
                <ul class="dropdown-menu">
                  
                    <li><a href="/roadmap/">Roadmap</a></li>
                  
                    <li><a href="/getinvolved/">Get involved</a></li>
                  
                    <li><a href="/events/">Events &amp; Training</a></li>
                  
                    <li><a href="/support/">Hosting &amp; Support</a></li>
                  
                    <li><a href="/governance/">Governance</a></li>
                  
                    <li><a href="/people/">People</a></li>
                  
                </ul>
              </li>
            
          
            
              <li><a href="/documentation/">Docs</a></li>
            
          
            
              <li><a class="active-menu" href="/blog/">Blog</a></li>
            
          
            
              <li><a href="https://invenio-talk.web.cern.ch">Talk</a></li>
            
          
            
              <li><a href="/about/">About</a></li>
            
          
        </ul>
      </div>
    </div>
  </nav>
</header>
        
        <div class="container">
          <div class="row">
            <div class="col">
              <div class="header-section-title">
                
                <h1>Invenio Blog</h1>
                <p class="sub-title">Follow news and updates on Invenio world</p>
                
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </section>
  
  

  <section class="section-content-light-bg">
    <div class="container">
      
      <div class="row">
        <div class="col-md-12 col-xs-12 block-center">
          <div class="blog-post-list">
            
              
            
              
                <div class="blog-list-item col-xs-12 col-md-4">
                  
  <div class="blog-list-item blog-list-item-frame">
    <header class="blog-list-item-header">
      <h3>
        
          <a href="/blog/2020-07-01-june-release/">InvenioRDM June Release</a>
        
      </h3>
      <p class="blog-list-item-meta">
        <i class='fa fa-user text-muted'></i>
        <span class="author">
          
            Lisa O&#39;Keefe, Pablo Panero
          
        </span>
        <i class='fa fa-calendar text-muted'></i>
        <span>Jul 1, 2020</span>
        <i class='fa fa-users text-muted'></i>
        <span class="label invenio-team"><a class="team-url" href="">Invenio</a></span>
      </p>
    </header>
    <div class="blog-list-item-content">
      <p>We are happy to announce InvenioRDM Alpha 8 (June release). Thank you to our team members for their efforts on this release.</p>
<h3>What's new?</h3>
<p>The June release is a major backend development release. We developed three new modules that lay the foundation for the new core data flow of Invenio(RDM). Our work goes far to provide a better developer experience. You will be able to work on and customize Invenio(RDM) in an easier and cleaner way.</p>
<p>The primary focus for the release was:</p>
<ul>
<li>Continue the migration from Bootstrap to SemanticUI</li>
<li>Bug fixes and improvements on the frontend (mainly on deposit)</li>
<li>Develop new core modules for Invenio(RDM) backend</li>
</ul>
<h4>UI Customization</h4>
<p>You are able to customize your templates again. The JSX customizations are not functional yet though, which means the search page results are not customizable.</p>
<h4>Visual appearance</h4>
<p>We have migrated the file previewer, the OAuth login, and the settings pages to SemanticUI.</p>
<p>You might still notice some issues related to visual appearance (e.g. the name previewed file is not in a panel as before). We will be working on making all this perfect in the next sprint on SemanticUI (end of August). In the meantime, it is, at least, better.</p>
<p><img src="/blog/2020-07-01-june-release/record_page.jpeg" alt=""></p>
<h4>Creators, Contributors and Affiliations Identifiers</h4>
<p>The Deposit page now accepts <a href="https://orcid.org/">ORCID iDs</a> for people (creators and contributors) and <a href="https://ror.org/">ROR identifiers</a> for organizations (creators, contributors and affiliations). An icon with a link to the respective entity on the record landing page reflects this connection.</p>
<p>Contributors are now optional on the deposit page as well.</p>
<h4>Python versions</h4>
<p>There are now Invenio images for Python 3.7 and Python 3.8! This means that you can use Python 3.6, 3.7 and 3.8 for local development and the full containerized mode.</p>
<h4>Backend and REST APIs</h4>
<p>We have put a significant amount of work in refactoring some of the core API flow of Invenio. This addresses many of the issues that Invenio was facing in this domain. As a result, three modules were created:</p>
<ul>
<li><a href="https://github.com/inveniosoftware/flask-resources">https://github.com/inveniosoftware/flask-resources</a>: A generic Flask module to implement REST APIs and make their customization easy.</li>
<li><a href="https://github.com/inveniosoftware/invenio-resources">https://github.com/inveniosoftware/invenio-resources</a>: A module customizing Flask-Resources for Invenio(RDM) APIs.</li>
<li><a href="https://github.com/ppanero/invenio-records-agent">https://github.com/ppanero/invenio-records-agent</a>: An experimental module to bridge the representational and data access worlds in Invenio. This module hosts the business logic and might be merged back into invenio-resources.</li>
</ul>
<h3>What do you need to do?</h3>
<p>Follow the documentation site: <a href="https://inveniordm.docs.cern.ch/">https://inveniordm.docs.cern.ch/</a> and install the latest invenio-cli v0.14.2+, create a new instance and see how it looks like!</p>
<p><strong>Install (TL;DR)</strong></p>
<p>If you previously installed InvenioRDM, make sure you have the latest Docker image of your choice according to the Python version:</p>
<pre><code class="lang-bash">docker pull inveniosoftware/centos7-python:3.6
docker pull inveniosoftware/centos8-python:3.7
docker pull inveniosoftware/centos8-python:3.8
</code></pre>
<p>To install:</p>
<pre><code class="lang-bash">pip install invenio-cli --upgrade
invenio-cli init rdm
cd my-site
invenio-cli containerize --pre
invenio-cli demo --containers
</code></pre>
<p>To destroy the Python virtualenv, and remove the docker containers run:</p>
<pre><code class="lang-bash">cd my-site
pipenv --rm
docker-compose -f docker-compose.full.yml down
</code></pre>
<h3>Feedback</h3>
<p>As always, we welcome your feedback. We are experimenting with Discourse's built in post template. This means when you <a href="https://invenio-talk.web.cern.ch/t/inveniordm-alpha-8-june-release/115">provide feedback on Discourse</a> your message should be pre-populated with the classic template:</p>
<pre><code>## Bugs

## What worked well

## What didn't work well

## Wishes for documentation
</code></pre>
<p>Thank you for your patience and support. We are working hard all the time to improve things. Take care and stay safe!</p>

    </div>
    <div class="blog-list-item-more-link">
      
        <a href="/blog/2020-07-01-june-release/">Read More</a>
      
    </div>
  </div>

                </div>
              
            
              
                <div class="blog-list-item col-xs-12 col-md-4">
                  
  <div class="blog-list-item blog-list-item-frame">
    <header class="blog-list-item-header">
      <h3>
        
          <a href="/blog/2020-06-05-may-release/">InvenioRDM May Release</a>
        
      </h3>
      <p class="blog-list-item-meta">
        <i class='fa fa-user text-muted'></i>
        <span class="author">
          
            Lars Holm Nielsen, Lisa O&#39;Keefe, Zacharias Zacharodimos
          
        </span>
        <i class='fa fa-calendar text-muted'></i>
        <span>Jun 5, 2020</span>
        <i class='fa fa-users text-muted'></i>
        <span class="label invenio-team"><a class="team-url" href="">Invenio</a></span>
      </p>
    </header>
    <div class="blog-list-item-content">
      <p>We are happy to announce InvenioRDM Alpha 7 (May release). Thank you to our team members for their efforts on this significant release.</p>
<h3>What's new?</h3>
<p>The May release is a major integration release, with a few rough edges that still need polishing.
We have integrated a lot of code that was developed in separate branches into the main InvenioRDM
code base. We have done this now, to ensure we have enough time to iron out integration issues.</p>
<p>The primary focus for the release was:</p>
<ul>
<li>Migrate from Bootstrap to SemanticUI</li>
<li>Deposit form frontend (JavaScript)</li>
<li>Integrate new communities prototype.</li>
<li>Upgrade to Invenio v3.3</li>
</ul>
<h3>Known issues (please read!)</h3>
<p><strong>As a rule of thumb, many features will be broken and not work. Thank you for your continued
patience and feedback as we work to make improvements.</strong></p>
<p>A lot of code has changed in this release, and many features have not yet undergone quality control.</p>
<p><strong>UI Customizations not working</strong></p>
<p>The existing method for customizing the UI will change slightly, We hope to provide documentation for this in the next release.</p>
<p><strong>Visual appearance</strong></p>
<p>You'll notice issues related to the visual appearance, that we have not yet had the time to refine.
This is with regards to alignment, colors, behaviours, font-sizes, and user experience.</p>
<p><img src="/blog/2020-06-05-may-release/frontpage.png" alt=""></p>
<p><strong>Data model and deposit form</strong></p>
<p>The data model and deposit form is far from complete. We have not yet focused on implementing
the right data model with the right fields. For instance the access right displayed in the deposit
form will change, as will many of the other fields displayed.</p>
<p><img src="/blog/2020-06-05-may-release/deposit.png" alt=""></p>
<p><strong>Communities</strong></p>
<p>Communities is in a very initial state and many things will change.</p>
<p><img src="/blog/2020-06-05-may-release/communities.png" alt=""></p>
<p><strong>Previewer, OAuth login, Settings pages</strong></p>
<p>The file previewer and OAuth login still need to be migrated to SemanticUI, and thus
the modules are likely not to work properly in this release.</p>
<h3>What do you need to do?</h3>
<p>You can install the latest invenio-cli v0.14.x, create a new instance from the beginning and see how it looks like!</p>
<p><strong>Install (TL;DR)</strong></p>
<p>If you previously installed InvenioRDM, make sure you have the latest Docker image:</p>
<pre><code>docker pull inveniosoftware/centos7-python:3.6
</code></pre>
<p>To install:</p>
<pre><code>pip install invenio-cli --upgrade
invenio-cli init rdm
cd my-site
invenio-cli containerize --pre
invenio-cli demo --containers
</code></pre>
<p>To destroy the Python virtualenv, and remove the docker containers run:</p>
<pre><code>cd my-site
pipenv --rm
docker-compose -f docker-compose.full.yml down
</code></pre>
<p><strong>Communities</strong></p>
<p>To see the communities click "Communities" menu, then "New community". You'll be prompted to log in. Simply create a new account, and log in with it.</p>
<p><strong>Deposit form</strong></p>
<p>To see the deposit click "Uploads" then "New upload"</p>
<h3>Want to get involved?</h3>
<p>Follow the documentation site: <a href="https://inveniordm.docs.cern.ch/">https://inveniordm.docs.cern.ch/</a> for an up-to-date
step-by-step install and usage of InvenioRDM.</p>
<p>Give us feedback on Discourse: <a href="https://invenio-talk.web.cern.ch/t/inveniordm-alpha-7-may-release/109">https://invenio-talk.web.cern.ch/t/inveniordm-alpha-7-may-release/109</a> for this release.</p>
<p>Thank you for your patience. We are working hard all the time to improve things. Take care and stay safe!</p>

    </div>
    <div class="blog-list-item-more-link">
      
        <a href="/blog/2020-06-05-may-release/">Read More</a>
      
    </div>
  </div>

                </div>
              
            
              
                <div class="blog-list-item col-xs-12 col-md-4">
                  
  <div class="blog-list-item blog-list-item-frame">
    <header class="blog-list-item-header">
      <h3>
        
          <a href="/blog/invenio-v33-released/">Invenio v3.3 released</a>
        
      </h3>
      <p class="blog-list-item-meta">
        <i class='fa fa-user text-muted'></i>
        <span class="author">
          
            Pablo Panero
          
        </span>
        <i class='fa fa-calendar text-muted'></i>
        <span>May 20, 2020</span>
        <i class='fa fa-users text-muted'></i>
        <span class="label invenio-team"><a class="team-url" href="">Invenio</a></span>
      </p>
    </header>
    <div class="blog-list-item-content">
      <p>We are proud to announce the release of Invenio v3.3.0. With this release,
Invenio v3.1.x reaches end of life, and will no longer be maintained.</p>
<p><strong>Python compatibility</strong></p>
<p>Invenio v3.3 supports Python versions 3.6 and 3.7. Python 2 support in Invenio
ended on January 1st, 2020 with the official end of life for Python 2 on the
same date.</p>
<h1>Getting started</h1>
<p>See our <a href="https://invenio.readthedocs.io/en/maint-3.3/quickstart/quickstart.html">quick start</a> guide.</p>
<h1>Upgrading</h1>
<p>See our <a href="https://invenio.readthedocs.io/en/maint-3.3/upgrading.html">upgrade guide</a>.</p>
<h1>Release notes</h1>
<p>Please see the full <a href="https://invenio.readthedocs.io/en/maint-3.3/releases/v3.3.0.html">release notes</a> for
details about minor changes, deprecations etc.</p>
<h1>Highlights for Invenio v3.3</h1>
<h2>Python 3.7</h2>
<p>Python 3.7 is now supported by Invenio!</p>
<h2>Improved support for Single Page Applications</h2>
<p>Invenio v3.3 improves the support for Single Page Applications (SPA) by adding
REST APIs for account management operations such as login, logout, user registration,
password change, email confirmation and more. The integrated OAuth client
also adds a new REST API so that you can login via your OAuth providers such
as GitHub, ORCID and Globus.</p>
<h2>CSRF Protection</h2>
<p>Invenio-REST adds a CSRF middleware, called <code>CSRFProtectMiddlewate</code> to protect
API views against CSRF attacks. The CSRF checks can be skipped in REST API
calls when using a personal OAuth API token.</p>
<h2>Dependency management</h2>
<p>We have revamped management of third-party dependencies. New releases
of some of the many third-party packages Invenio depends on could often
cause dependency conflicts. Invenio v3.3 introduces the concept of coordinator
packages, who are responsible for properly specifying third-party dependencies.</p>
<p>The <a href="https://invenio.readthedocs.io/en/maint-3.3/releases/v3.3.0.html">release notes</a>
contain a table with all the current coordinator modules.</p>
<h2>Helm chart (BETA)</h2>
<p>Helm-Invenio provides a helm chart to deploy an Invenio application along with
all its required services: Redis, RabbitMQ, HAProxy, Nginx, Elasticsearch,
Logstash and PostgreSQL.</p>
<p>This chart is currently in beta version. Its templates are currently specific
for OpenShift. However, work is on-going to support bare Kubernetes deployments.</p>
<h1>Maintenance policy</h1>
<p>Invenio v3.3 will be supported with bug and security fixes until the release of
Invenio v3.5 and minimum until 2021-05-18.</p>
<p>See our <a href="https://invenio.readthedocs.io/en/maint-3.3/releases/maintenance-policy.html">maintenance policy</a>.</p>
<h1>What's next?</h1>
<p>In Invenio v3.4 we are planning to release two major new features:</p>
<ul>
<li>Theming support and a new Semantic UI theme.</li>
<li>A statistics bundle that adds support for collecting COUNTER Research Data Usage Metrics compliant statistics.</li>
<li>Index migration support for migrating between Elasticsearch clusters (aka zero down-time reindexing and index migration).</li>
</ul>

    </div>
    <div class="blog-list-item-more-link">
      
        <a href="/blog/invenio-v33-released/">Read More</a>
      
    </div>
  </div>

                </div>
              
            
              
                <div class="blog-list-item col-xs-12 col-md-4">
                  
  <div class="blog-list-item blog-list-item-frame">
    <header class="blog-list-item-header">
      <h3>
        
          <a href="/blog/2020-05-05-april-release/">InvenioRDM April Release</a>
        
      </h3>
      <p class="blog-list-item-meta">
        <i class='fa fa-user text-muted'></i>
        <span class="author">
          
            Lars Holm Nielsen, Lisa O&#39;Keefe, Guillaume Viger
          
        </span>
        <i class='fa fa-calendar text-muted'></i>
        <span>May 5, 2020</span>
        <i class='fa fa-users text-muted'></i>
        <span class="label invenio-team"><a class="team-url" href="">Invenio</a></span>
      </p>
    </header>
    <div class="blog-list-item-content">
      <p>We are pleased to announce the InvenioRDM April release. The Deposit page has been our focus and that meant designing the frontend and the backend based on lessons learned from the beta invenio-deposit python module and from the invenio-records-js and invenio-files-js previous angularjs modules. We will be implementing most of these designs in May.</p>
<p>Thank you all for testing the last release and for your many contributions.</p>
<h3>Some Highlights include:</h3>
<ul>
<li>Requests for comments (RFCs) from the numerous conversations. These are living and changing documents.<ul>
<li>Deposit frontend: <a href="https://github.com/inveniosoftware/rfcs/issues/27">https://github.com/inveniosoftware/rfcs/issues/27</a></li>
<li>Deposit backend: <a href="https://github.com/inveniosoftware/rfcs/issues/22">https://github.com/inveniosoftware/rfcs/issues/22</a></li>
</ul>
</li>
<li>Two new modules have been created to improve the REST API and deal with the deposit backend<ul>
<li><a href="https://github.com/inveniosoftware/flask-resources">https://github.com/inveniosoftware/flask-resources</a></li>
<li><a href="https://github.com/inveniosoftware/invenio-resources">https://github.com/inveniosoftware/invenio-resources</a></li>
</ul>
</li>
<li>On the frontend we have added a proof of concept deposit page with 2 fields (title and resource type).</li>
<li>These are in part powered by an improved controlled vocabulary backend and an all-new React frontend.</li>
<li>This page is accessible through the Upload link of the search page.</li>
<li>Invenio-S3 v1.0.3 has been released with better big file upload support</li>
<li>Various dependency fixes have been applied and the cookiecutter slugification made more solid</li>
<li>Auto-reloading of webpack has been made possible allowing us to work much more effectively with React</li>
</ul>
<h3>Want to get involved?</h3>
<p>Although in this release, we haven’t made significant visual changes, you are always welcomed to try new releases - invenio-cli v0.12.X, this time around- by following the documentation site: <a href="https://inveniordm.docs.cern.ch/">https://inveniordm.docs.cern.ch/</a> . Give us feedback on Discourse: <a href="https://invenio-talk.web.cern.ch/t/inveniordm-alpha-6-april-release/104">https://invenio-talk.web.cern.ch/t/inveniordm-alpha-6-april-release/104</a> for this release.</p>
<p>As mentioned, apart from the /deposits/new proof of concept page you won’t see much other differences. Take it easy this time. We will be asking a lot of feedback from you next month!</p>
<p>Thank you for your interest, take care and stay safe!</p>

    </div>
    <div class="blog-list-item-more-link">
      
        <a href="/blog/2020-05-05-april-release/">Read More</a>
      
    </div>
  </div>

                </div>
              
            
              
                <div class="blog-list-item col-xs-12 col-md-4">
                  
  <div class="blog-list-item blog-list-item-frame">
    <header class="blog-list-item-header">
      <h3>
        
          <a href="/blog/invenio-v32-released/">Invenio v3.2 released</a>
        
      </h3>
      <p class="blog-list-item-meta">
        <i class='fa fa-user text-muted'></i>
        <span class="author">
          
            Lars Holm Nielsen
          
        </span>
        <i class='fa fa-calendar text-muted'></i>
        <span>Dec 20, 2019</span>
        <i class='fa fa-users text-muted'></i>
        <span class="label invenio-team"><a class="team-url" href="">Invenio</a></span>
      </p>
    </header>
    <div class="blog-list-item-content">
      <p>We are proud to announce the release of Invenio v3.2.0. With this release,
Invenio v3.0.x reaches end of life, and will no longer be maintained.</p>
<p><strong>Python compatibility</strong></p>
<p>Invenio v3.2 supports Python 2.7 (until 2019-12-31), Python 3.5 and Python 3.6.</p>
<h1>Getting started</h1>
<p>See our <a href="https://invenio.readthedocs.io/en/maint-3.2/quickstart/quickstart.html">quick start</a> guide.</p>
<h1>Upgrading</h1>
<p>See our <a href="https://invenio.readthedocs.io/en/maint-3.2/upgrading.html">upgrade guide</a>.</p>
<h1>Release notes</h1>
<p>Please see the full <a href="https://invenio.readthedocs.io/en/maint-3.2/releases/v3.2.0.html">release notes</a> for
details about minor changes, deprecations etc.</p>
<h1>Highlights for Invenio v3.2</h1>
<h2>Files bundle</h2>
<p>We have released four new modules as part of the new Files bundle:</p>
<ul>
<li><a href="http://invenio-files-rest.readthedocs.io">Invenio-Files-REST</a>: Object store REST API for managing files in Invenio.</li>
<li><a href="http://invenio-records-files.readthedocs.io">Invenio-Records-Files</a>: Integration layer between records and files.</li>
<li><a href="http://invenio-previewer.readthedocs.io">Invenio-Previewer</a>: File previewers support.</li>
<li><a href="http://invenio-iiif.readthedocs.io">Invenio-IIIF</a>: IIIF Image API support for thumbnail and zooming on images.</li>
</ul>
<p>To understand more about how to use the new Files bundle see our integration
guide on <a href="https://invenio.readthedocs.io/en/latest/tutorials/handling-files.html">https://invenio.readthedocs.io/en/latest/tutorials/handling-files.html</a>.</p>
<h2>Elasticsearch v7 support</h2>
<p>Invenio now supports Elasticsearch v7.</p>
<h2>Marshmallow 3 compatibility</h2>
<p>Invenio now support both Marshmallow v2 or v3. The support is done via a
compatibility layer, that allows Invenio to work with either schemas from v2 or
v3. This should allow users to upgrade to Invenio v3.2 without being forced to
upgrade their Marshmallow schemas immediately to v3.</p>
<p>We advice all users to start planning an upgrade of their Marshmallow schemas
from v2 to v3 as the upgrade is non-trivial and needs proper testing due to
significant differences between Marshmallow v2 and v3.</p>
<p>Invenio will continue support for both Marshmallow v2 and v3 for a transition
period to allow users to upgrade at their own pace. After the transition period
Marshmallow v2 support will be deprecated and removed from Invenio.</p>
<p>For information about how to upgrade see <a href="https://invenio.readthedocs.io/en/latest/tutorials/upgrade-marshmallow.html">https://invenio.readthedocs.io/en/latest/tutorials/upgrade-marshmallow.html</a>.</p>
<h2>Search index prefixing</h2>
<p>Elasticsearch does not support the concept of virtual hosts and thus with
previous versions of Invenio it was not possible to share an Elasticsearch
cluster between multiple Invenio instances.</p>
<p>We have now added support for index/alias/template prefixing, so that all
names can be prefixed with a string and thus allows multiple Invenio instances
to share an Elasticsearch cluster. Note, that this is only name prefixing, thus
technically two Invenio instances will can read each other indexes and thus
must trust each other.</p>
<p>Read more about the new feature on
<a href="https://invenio-search.readthedocs.io/en/latest/configuration.html#index-prefixing">https://invenio-search.readthedocs.io/en/latest/configuration.html#index-prefixing</a>.</p>
<h1>Maintenance policy</h1>
<p>Invenio v3.2 will be supported with bug and security fixes until the release of
Invenio v3.4 and minimum until 2020-12-20.</p>
<p>See our <a href="https://invenio.readthedocs.io/en/maint-3.2/releases/maintenance-policy.html">maintenance policy</a>.</p>
<h2>What's next?</h2>
<p>In Invenio v3.3 we are planning to release the <strong>Statistics</strong> bundle including:</p>
<ul>
<li><a href="https://invenio-stats.readthedocs.io">invenio-stats</a><ul>
<li>Invenio module for statistical data processing and querying with support
for collecting COUNTER Research Data Usage Metrics compliant statistics.</li>
</ul>
</li>
<li><a href="https://counter-robots.readthedocs.io">counter-robots</a><ul>
<li>Library for COUNTER-compliant detection of machines and robots.</li>
</ul>
</li>
</ul>
<p>In addition to the Statistics bundle, we will also release final versions of
the following two modules:</p>
<ul>
<li><a href="https://invenio-index-migrator.readthedocs.io">invenio-index-migrator</a><ul>
<li>Elasticsearch index migrator for Invenio (aka zero down-time reindexing
and index migration).</li>
</ul>
</li>
</ul>

    </div>
    <div class="blog-list-item-more-link">
      
        <a href="/blog/invenio-v32-released/">Read More</a>
      
    </div>
  </div>

                </div>
              
            
              
                <div class="blog-list-item col-xs-12 col-md-4">
                  
  <div class="blog-list-item blog-list-item-frame">
    <header class="blog-list-item-header">
      <h3>
        
          <a href="/blog/2019-10-15-web-redesign/">Introducing RDM, ILS and Framework</a>
        
      </h3>
      <p class="blog-list-item-meta">
        <i class='fa fa-user text-muted'></i>
        <span class="author">
          
            Lars Holm Nielsen
          
        </span>
        <i class='fa fa-calendar text-muted'></i>
        <span>Oct 15, 2019</span>
        <i class='fa fa-users text-muted'></i>
        <span class="label invenio-team"><a class="team-url" href="https://discord.gg/8qatqBC">Invenio</a></span>
      </p>
    </header>
    <div class="blog-list-item-content">
      <p>We're happy to announce a major overhaul of inveniosoftware.org. Some of the
highlights of the new website include:</p>
<ul>
<li>Rebranding of Invenio into three products: InvenioRDM, InvenioILS and
Invenio Framework</li>
<li>A new forum</li>
<li>People in the community</li>
<li>Logo downloads</li>
</ul>
<h2>Framework, RDM and ILS</h2>
<p>The primary reason for the website overhaul is a rebranding of Invenio
into three different products:</p>
<ul>
<li><a href="/products/rdm/"><strong>InvenioRDM</strong></a> - a turn-key research data management repository.</li>
<li><a href="/products/ils/"><strong>InvenioILS</strong></a> - an Integrated Library System.</li>
<li><a href="/products/framework/"><strong>Invenio Framework</strong></a> - a core framework for large-scale digital repositories.</li>
</ul>
<p>Both, InvenioRDM and InvenioILS are applications built on top of the Invenio
Framework. On each product page, you'll find a lot more information about the
product as well as their current roadmaps.</p>
<p><img src="/blog/2019-10-15-web-redesign/website-screenshot.png" alt=""></p>
<h1>Talk - Discourse forum</h1>
<p>We are also launching a <a href="https://invenio-talk.web.cern.ch">new forum</a>
for both users, administrators and developers, which replaces our current
<a href="https://github.com/inveniosoftware/troubleshooting">troubleshooting repository</a> on GitHub
and compliments the current chatrooms.</p>
<p><img src="/blog/2019-10-15-web-redesign/forum.png" alt=""></p>
<h1>People and institutions in the community</h1>
<p>We have also added a new <a href="/people/">people section</a> to better showcase the
persons who are making Invenio into a real community. Don't hesitate to email us
if you'd like to be displayed on the list.</p>
<p><img src="/blog/2019-10-15-web-redesign/people.png" alt=""></p>
<h1>New logos</h1>
<p>Last but not least, we've made some very minor modifications to the Invenio
logo, as well as made a dedicated <a href="/about/">download page</a> where you can get
SVG versions of all logos.</p>

    </div>
    <div class="blog-list-item-more-link">
      
        <a href="/blog/2019-10-15-web-redesign/">Read More</a>
      
    </div>
  </div>

                </div>
              
            
              
                <div class="blog-list-item col-xs-12 col-md-4">
                  
  <div class="blog-list-item blog-list-item-frame">
    <header class="blog-list-item-header">
      <h3>
        
          <a href="/blog/2019-08-07-sprint-update/">Towards Invenio v3.2 and Elasticsearch 7 support</a>
        
      </h3>
      <p class="blog-list-item-meta">
        <i class='fa fa-user text-muted'></i>
        <span class="author">
          
            Lars Holm Nielsen
          
        </span>
        <i class='fa fa-calendar text-muted'></i>
        <span>Aug 7, 2019</span>
        <i class='fa fa-users text-muted'></i>
        <span class="label invenio-team"><a class="team-url" href="">Invenio</a></span>
      </p>
    </header>
    <div class="blog-list-item-content">
      <p>Two CERN sprint teams with a total of 14 developers have just each finished a two-week sprint:</p>
<ul>
<li>Sprint team 1: Focused on the Invenio v3.2 release which will include the new  Files bundle.</li>
<li>Sprint team 2: Focused on adding Elasticsearch 7 support as well prepare  the Invenio v3.3 release which will include the new index migration utilities.</li>
</ul>
<h2>Highlights</h2>
<p>A total of 23 new module releases where made during the sprint.  The highlights from the two sprints include:</p>
<ul>
<li>Elasticsearch 7 support.</li>
<li>Elasticsearch index prefixing and suffixing support for shared clusters (this is needed for the upcoming index migrator utilities).</li>
<li>Marshmallow v2 and v3 compatibility. Invenio is now able to accept both Marshmallow v2 and v3 schemas. In your Invenio instance you will need to pin the Marshmallow version that matches your schemas, and follow the upgrade guide provided by Marshmallow to upgrade your schemas.</li>
<li>Sentry support is now using the Sentry-Python library instead of Raven library (you can still switch back to Raven by setting <code>SENTRY_SDK = False</code> in your configuration).</li>
<li>Rate limiting now differentiates between guests and authenticated users, and allows for external modules to provide per user rate limits.</li>
<li>Improved HTML sanitisation support in several modules.</li>
<li>Improved support for client-side infinite scroll in the REST API.</li>
<li>Housekeeping: we have fixed a significant number of  build failures as well as deprecation warnings from other libraries.</li>
</ul>
<p>All of above highlights will be released together with Invenio v3.2. Most of the individual modules have already been released, however you are still on your own if you decide to go head with them prior to the Invenio v3.2 release (if you encounter problems, we are of course very interested in hearing about it, so that we can solve them before the v3.2 release).</p>
<h2>Future plans</h2>
<h3>Invenio v3.2 and Files Bundle</h3>
<p>The primary focus is still to release Invenio v3.2. The  pending issues are limited to final testing and documentation.</p>
<h3>Elasticsearch v2 and v5 deprecation</h3>
<p>Invenio v3.3 will add index migration utilities that will allow Invenio users to   upgrade their Elasticsearch clusters to supported Elasticsearch versions. In Invenio v3.4 we plan to then remove support for Elasticsearch v2 and v5.</p>
<h3>Python v2 support ends January 1st 2020.</h3>
<p>Python v2.7 will reach end of life on January 1st, 2020. Invenio will only support Python 2.7 until that date. From January 1st, 2020 we will remove Python 2.7 from our test matrixes, and thus new module releases after January 1st 2020 will very likely no longer work on Python 2.7.</p>
<p>We are already seeing a large number of our dependent Python libraries that have removed Python 2 support, and thus we will not be able to continue Python 2 support beyond January 1st, 2020.</p>
<h3>Invenio v3.3 - Index migration and usage statistics</h3>
<p>Invenio v3.3 is planned for release in late 2019 or early 2020.  The primary focus for Invenio v3.3 will be adding support for Elasticsearch index migration as well as releasing the Statistics Bundle (COUNTER-compliant usage statistics). The Statistics Bundle includes the following modules:</p>
<ul>
<li>Invenio-Stats</li>
<li>Invenio-Queues</li>
<li>COUNTER-Robots</li>
</ul>
<p>Invenio v3.3 may also see the release of a new module, Invenio-Records-Permissions, which will significantly simplify the defining and managing access control for records.</p>
<h2>Releases overview</h2>
<ul>
<li>invenio-access: v1.2.0<ul>
<li>Removed DynamicPermission from Invenio-Access (deprecated since v1.0.0)</li>
</ul>
</li>
<li>invenio-app: v1.2.0<ul>
<li>Fixed issue with <code>instance_path</code> and <code>static_folder</code> being globals evaluated once which caused problems with fixtures in pytest-invenio.</li>
<li>Improved the rate limiting to differentiate between guests and authenticated users.</li>
<li>Added possibility for external modules to provide per user rate limits via the Flask <code>g</code> global request object.</li>
<li>Fixed deprecation warnings from Werkzeug.</li>
</ul>
</li>
<li>invenio-assets: v1.1.3<ul>
<li>Changed module to hide webpack warnings (primarily needed for the cookiecutter-invenio-instance to reduce output clutter).</li>
</ul>
</li>
<li>invenio-base: v1.1.0<ul>
<li>Added support for allowing <code>instance_path</code> and <code>static_folder</code> to be callables which are evaluated before being passed to the Flask application class  (related to invenip-app fix ).</li>
</ul>
</li>
<li>invenio-celery: v1.1.0<ul>
<li>Fixed missing release on PyPI.</li>
</ul>
</li>
<li>invenio-config: v1.0.2<ul>
<li>Added <code>ALLOWED_HTML_TAGS</code> and <code>ALLOWED_HTML_ATTRS</code>  default configuration for bleach HTML sanitisation library (values are used by Invenio-Records-REST, Invenio-Formatter and Invenio-Previewer).</li>
</ul>
</li>
<li>invenio-db: v1.0.4<ul>
<li>Added  PostgreSQL v10 into the test matrix to ensure future compatibility.</li>
</ul>
</li>
<li>invenio-formatter: v1.0.2<ul>
<li>Added a new Jinja filter <code>sanitize_html</code> that uses the bleach library to sanitise data and to be used in combination with the <code>safe</code> template filter to prevent Cross-Side Scripting (XSS) vulnerabilities.</li>
</ul>
</li>
<li>invenio-indexer: v1.1.0<ul>
<li>Added Elasticsearch 7 support.</li>
<li>Added <code>before_record_index.dynamic_connect()</code> signal utility for connecting index receivers directly to specific indexes.</li>
<li>Fixed Elasticsearch index prefixing support.</li>
</ul>
</li>
<li>invenio-logging: v1.2.0<ul>
<li>Changed Sentry integration to use the sentry-python module instead of raven library. Raven library is still supported for backward compatibility.</li>
</ul>
</li>
<li>invenio-oaiserver: v1.1.1<ul>
<li>Added Elasticsearch 7 support.</li>
<li>Added Marshmallow v3 support  (with v2 backward compatibility).</li>
<li>Improved documentation on how to configure Elasticsearch (<a href="https://invenio-search.readthedocs.io/en/latest/configuration.html">https://invenio-search.readthedocs.io/en/latest/configuration.html</a>)</li>
</ul>
</li>
<li>invenio-oauthclient: v1.1.3<ul>
<li>Fixed deprecation warnings from Flask-OAuthlib</li>
<li>Fixed issue with the ?next parameter not supporting a query string.</li>
</ul>
</li>
<li>invenio-records: v1.3.0<ul>
<li>Removed the CLI (deprecated since v1.1.0)</li>
</ul>
</li>
<li>invenio-records-rest: v1.5.0<ul>
<li>Added Elasticsearch 7 support</li>
<li>Added CSV serialiser (for allowing CSV exports)</li>
<li>Added Marshmallow v3 support</li>
<li>Added “from” and “aggs” query parameters for better supporting client-side infinite scroll use cases.</li>
<li>Changed SanitizedHTML marshmallow field to use central configuration from Invenio-Config.</li>
<li>Fixed a deprecation warning.</li>
<li>Fixed Elasticsearch index prefixing support.</li>
<li>Fixed bug with browsers not respecting the content type when caching the REST API responses. (PENDING merge)</li>
</ul>
</li>
<li>invenio-rest: v1.1.1<ul>
<li>Added compatibility layer for marshmallow v2 and v3</li>
</ul>
</li>
<li>invenio-search: v1.2.1<ul>
<li>Added Elasticsearch v7 support</li>
<li>Fixed bug with Elasticsearch index prefixing support.</li>
<li>Added index suffixing and write aliases.</li>
<li>Deprecated Elasticsearch v5 support.</li>
<li>Changed default library used for making request to Elasticsearch from requests to urllib3 (default recommended library).</li>
</ul>
</li>
<li>invenio-theme: v1.1.4<ul>
<li>Added an error handler for HTTP 429 (rate limiting error).</li>
</ul>
</li>
<li>xrootdpyfs v0.1.6<ul>
<li>Fixed bug preventing previewing large ZIP files (2GB+).</li>
</ul>
</li>
</ul>
<h2>Files Bundle</h2>
<p>The Files Bundle also saw releases of the following modules:</p>
<ul>
<li>invenio-files-rest: v1.0.1</li>
<li>invenio-records-files: v1.1.1</li>
<li>invenio-previewer: v1.0.1</li>
<li>invenio-iiif: v1.0.1</li>
<li>pytest-invenio v1.2.0</li>
</ul>
<p>We don’t recommend upgrading to these versions until Invenio v3.2 have been released. In particular, we have made breaking changes to Invenio-Records-Files from the v1.0.0a11 to v1.0.0, that are likely to impact you if you depended on the unsupported alpha releases.</p>
<p>Stay tuned for the Invenio 3.2 release!</p>

    </div>
    <div class="blog-list-item-more-link">
      
        <a href="/blog/2019-08-07-sprint-update/">Read More</a>
      
    </div>
  </div>

                </div>
              
            
              
                <div class="blog-list-item col-xs-12 col-md-4">
                  
  <div class="blog-list-item blog-list-item-frame">
    <header class="blog-list-item-header">
      <h3>
        
          <a href="/blog/security-advisor-20190715/">Invenio security releases - XSS and Host header injection</a>
        
      </h3>
      <p class="blog-list-item-meta">
        <i class='fa fa-user text-muted'></i>
        <span class="author">
          
            Lars Holm Nielsen
          
        </span>
        <i class='fa fa-calendar text-muted'></i>
        <span>Jul 15, 2019</span>
        <i class='fa fa-users text-muted'></i>
        <span class="label invenio-team"><a class="team-url" href="">Invenio</a></span>
      </p>
    </header>
    <div class="blog-list-item-content">
      <p>Two vulnerabilities have been identified in <em>supported</em> Invenio modules.</p>
<ul>
<li><strong>Invenio-Records</strong> (<a href="https://github.com/inveniosoftware/invenio-records/security/advisories/GHSA-vxh3-mvv7-265j">security advisory</a>): A Cross-Site Scripting (XSS) vulnerability has been identified in Invenio-Records in the administration interface.</li>
<li><strong>Invenio-App</strong> (<a href="https://github.com/inveniosoftware/invenio-app/security/advisories/GHSA-94mf-xfg5-r247">security advisory</a>): A Host header injection vulnerability has been identified in Invenio-App.</li>
</ul>
<p>In addition, two XSS vulnerabilities have been discovered in <em>unsupported</em> Invenio modules:</p>
<ul>
<li><strong>Invenio-Previewer</strong> (<a href="https://github.com/inveniosoftware/invenio-previewer/security/advisories/GHSA-j9m2-6hq2-4r3c">security advisory</a>): An XSS vulnerability affecting the JSON, Markdown and iPython Notebook previewers.</li>
<li><strong>Invenio-Communities</strong> (<a href="https://github.com/inveniosoftware/invenio-communities/security/advisories/GHSA-mfv8-q39f-mgfg">security advisory</a>): An XSS vulnerability affecting the Jinja templates.</li>
</ul>
<p>The vulnerabilities were found after an XSS vulnerability was reported to Zenodo by Ciro Santilli. As a standard measure and after patching Zenodo, we reviewed the Invenio source code for potential similar issues to those identified in the Zenodo source code. This led to the discovery of three additional XSS vulnerabilities. The host header injection vulnerability was discovered after a standard vulnerability scan of another service running at CERN.</p>
<h3>Releases</h3>
<p>We have issued two new Invenio releases fixing these issues:</p>
<ul>
<li>Invenio v3.0.2 and v3.1.1</li>
</ul>
<p>The following individual modules fixing the vulnerabilities have been released:</p>
<ul>
<li>Invenio-Records v1.0.2, v1.1.1 and v1.2.2</li>
<li>Invenio-App v1.0.6 and v1.1.1</li>
<li>Invenio-Previewer v1.0.0a12 (unsupported)</li>
<li>Invenio-Communities v1.0.0a20 (unsupported)</li>
</ul>
<h3>New security policy</h3>
<p>We have taken the chance during handling of these vulnerabilities to also clearly define and document Invenio's <a href="https://invenio.readthedocs.io/en/latest/community/security-policy.html">security policy</a>. Please have a look and let us know what you think.</p>
<p>Previously, we have sometimes privately notified potentially affected services about a security vulnerability. We have however decided to discontinue this practice, and instead, send out an advance notification to everyone about an upcoming security release including only the severity level of the issue. This allows everyone to plan ahead for the upcoming release and ensure they have staff available to handle the release. This partially smoothens the communication process but also ensures that everyone receives the same information in a scalable approach.</p>
<h3>GitHub security advisors</h3>
<p>As a new thing, we have also evaluated the new GitHub <a href="https://help.github.com/en/articles/about-maintainer-security-advisories">maintainer security advisories</a> to handle the vulnerabilities. These advisories are reviewed by GitHub and should allow a security alert to be sent to affected repositories.</p>
<h3>For more information</h3>
<p>If you have any questions or comments about this security release:</p>
<ul>
<li>Email us at <a href="mailto:info@inveniosoftware.org">info@inveniosoftware.org</a></li>
</ul>

    </div>
    <div class="blog-list-item-more-link">
      
        <a href="/blog/security-advisor-20190715/">Read More</a>
      
    </div>
  </div>

                </div>
              
            
              
                <div class="blog-list-item col-xs-12 col-md-4">
                  
  <div class="blog-list-item blog-list-item-frame">
    <header class="blog-list-item-header">
      <h3>
        
          <a href="/blog/2019-05-24-sprint-report/">Keeping up with Elasticsearch</a>
        
      </h3>
      <p class="blog-list-item-meta">
        <i class='fa fa-user text-muted'></i>
        <span class="author">
          
            Alex Ioannidis &amp; Lars Holm Nielsen
          
        </span>
        <i class='fa fa-calendar text-muted'></i>
        <span>May 24, 2019</span>
        <i class='fa fa-users text-muted'></i>
        <span class="label invenio-team"><a class="team-url" href="">Invenio</a></span>
      </p>
    </header>
    <div class="blog-list-item-content">
      <p><strong>In our latest Invenio sprint from May 13-24 we've been working on making Elasticsearch upgrades, migration and reindexing simpler and with near zero downtime. Read on, to learn more about how you keep up with Elasticsearch rapid release and deprecation cycles with Invenio and for a preview of what will come of new features in Invenio v3.2.</strong></p>
<h2>End of life</h2>
<p>Once you start running a production Invenio instance, you'll quickly notice that your Elasticsearch cluster will become outdated pretty fast, due to Elasticsearch's rapid release and deprecation cycle. Invenio v3 development was started in 2016 against the newly released Elasticsearch v2. When Invenio v3 was finally released in June 2018, Elasticsearch has had two major releases (v5 and v6) and v2 had already reached end of life. As can be seen from <a href="https://www.elastic.co/support/eol">Elastic Product End of Life Dates</a>, you can expect a major Elasticsearch version to be supported for a maximum of 2-3 years. Thus, you should plan to regularly upgrade your Elasticsearch cluster in order to not run on unmaintained software.</p>
<h2>Index upgrades with downtime</h2>
<p>Elasticsearch allows an index created in v5 to be read in v6 which combined with rolling cluster upgrades allows you to upgrade a cluster relatively easy with no downtime. However, you are out of luck as soon as you want to upgrade again from v6 to v7 since v7 cannot read an index created in v5.</p>
<p>The solution is for every major Elasticsearch upgrade to create a new index and reindex content from your old index. This requires you to take offline your Invenio instance to avoid that new content is indexed during the reindexing process. For large-scale production systems with many millions of records, reindexing can take a long time, and thus might require several hours of downtime, which can quickly be a big issue these systems.</p>
<h2>Fixing Elasticsearch mappings</h2>
<p>A related problem you may hit when running an Invenio instance is that you would like to tweak the Elasticsearch mappings in order to improve search performance and precision. In Elasticsearch you cannot modify the mapping of an existing index, thus similar to above, you need to create a new index and reindex content from the old index.</p>
<h2>Use cases</h2>
<p>All in all, you'll find yourself in need of tools to manage indexes and performing reindexing in order to:</p>
<ul>
<li>Upgrade an Elasticsearch cluster between major versions.</li>
<li>Migrate between two Elasticsearch clusters.</li>
<li>Change Elasticsearch mappings of existing indexes.</li>
</ul>
<h2>Near-zero downtime upgrade, migration and reindexing</h2>
<p>To solve the above use cases, we've built a new Invenio module named <a href="https://github.com/inveniosoftware/invenio-index-migrator">Invenio-Index-Migrator</a>. The module allows you to synchronize two Elasticsearch indexes (in-cluster or cross-cluster) over an extended time period, and when you are ready, you can roll over the new index. Depending on how you have deployed Invenio, the rollover can happen with either zero downtime or near zero downtime (&lt;5 minutes compared to hours)</p>
<p>The new module supports migrating records but also any other index you may have in Elasticsearch such as event logging from usage statistics. The new module works by defining <strong>migration recipes</strong> and managing them via a CLI</p>
<h4>Demo</h4>
<p><em>Disclaimer: APIs etc may change slightly before the final release.</em></p>
<p>First, you initialize a migration recipe (here a recipe named <code>records</code>) which will create new indexes to hold the new data:</p>
<pre><code>$ invenio index migration init "records"
</code></pre>
<p>Next, you kick-off the index migration:</p>
<pre><code>$ invenio index migration run "records"
</code></pre>
<p>Index migration happens in two stages:</p>
<ul>
<li><strong>Bulk migration:</strong> First a snapshot of the current index is reindexing into the new index. Invenio-Index-Migrator is flexible an supports several methods. By default, we use the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html">Elasticsearch Reindex API</a> which in most cases are orders of magnitudes faster than any other method. Other methods allow you to use Invenio's default record indexing or simply implement your own.</li>
<li><strong>Synchronization:</strong> Once the first snapshot has been fully indexed, a second job is started to keep the two indexes in sync. Essentially this works by indexing any modifications to the old index in the new one.</li>
</ul>
<p>At any point during the migration, you can check the status:</p>
<pre><code>$ invenio index migration status "records"
</code></pre>
<p>Once you're ready, you can roll over the new index:</p>
<pre><code>$ invenio index migration rollover "records"
</code></pre>
<p>In an in-cluster migration, the rollover works by shuffling around index aliases (since Elasticsearch does not support renaming indexes). In a cross-cluster migration you update the Invenio configuration to point to your new Elasticsearch cluster.</p>
<p>In case something goes wrong during the index migration, you can of course also cancel the job:</p>
<pre><code>$ invenio index migration cancel "records"
</code></pre>
<h2>Bonus</h2>
<p>During the sprint a number of other issues were addressed that will also be part of Invenio v3.2:</p>
<ul>
<li><strong>Elasticsearch v7 support</strong> was added to Invenio-Search, Invenio-Indexer and Invenio-Records-REST. Only Invenio-OAIServer needs to be upgraded to support Elasticsearch 7.</li>
<li><strong>Search index prefixing</strong> allowing multiple Invenio instances to use the same Elasticsearch cluster. Elasticsearch by default does not support the concept of virtual hosts. With search indexing prefixing, it will be possible to use a single Elasticsearch cluster for multiple Invenio instances, given that the Invenio instances either trust each other, or you have a protection-layer like Elastic X-Pack or ReadonlyREST in front of Elasticsearch.</li>
</ul>
<h2>Next steps</h2>
<p>The Invenio-Index-Migrator is only the first building blocks in order to make Elasticsearch upgrades, migration and reindexing simple. We hope to add assistant-like features that will make it even easier to keep with the latest Elasticsearch releases.</p>
<p>The Invenio-Index-Migrator will be finally released with Invenio v3.2 which is planned for July-September.</p>

    </div>
    <div class="blog-list-item-more-link">
      
        <a href="/blog/2019-05-24-sprint-report/">Read More</a>
      
    </div>
  </div>

                </div>
              
            
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 col-xs-12 block-center">
        
          
  <div class="pagination">
    
      <a href="/blog/page/2/">&laquo; Previous</a>
    
    | 3 |
    
      <a href="/blog/page/4/">Next &raquo;</a>
    
  </div>

        
        </div>
      </div>
    </div>
  </section>
  
  <script type="text/javascript">
    $(document).ready(function() {
        $(document).delegate('*.post-content img', 'click', function(event) {
            $(this).data('remote', $(this).attr('src'));
            event.preventDefault(); $(this).ekkoLightbox();
        });
    });
  </script>


  <footer>
  <div class="contact-section section-content-dark-bg">
    <div class="container">
      <div class="row">
  <div class="col-md-6 footer-logo-centered">
    <a href="/"><img class="icon-contact" src="/static/img/logo-invenio-white.svg?h=84611f18" /></a>
  </div>
  <div class="col-md-2">
    <h3 class="contact-title">Products</h3>
    <table class="contact-list">
      <tbody>
        <tr>
          <td><a href="/products/rdm/">InvenioRDM</a></td>
        </tr>
        <tr>
          <td>
            <a href="/products/ils/">InvenioILS</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="/products/framework/">Invenio Framework</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="/#products">Get Started</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="/showcase/">Examples</a>
          </td>
        </tr>
        <tr>
          <td><a href="/about/">About</a></td>
        </tr>
        <tr>
          <td><a href="/about#logos">Logos</a></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="col-md-2">
    <h3 class="contact-title">Community</h3>
    <table class="contact-list">
      <tbody>
        <tr>
          <td><a href="/roadmap/">Roadmap</a></td>
        </tr>
        <tr>
          <td>
            <a href="/getinvolved/">Get Involved</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="/events/">Events & Training</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="/support/">Hosting & Support</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="/governance/">Governance</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="/people/">People</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="col-md-2">
    <h3 class="contact-title">Keep in touch</h3>
    <table class="contact-list">
      <tbody>
        <tr>
          <td>
            <a href="https://github.com/inveniosoftware">GitHub</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="https://discord.gg/8qatqBC">Chatroom</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="https://invenio-talk.web.cern.ch">Talk</a>
          </td>
        </tr>
        <tr>
          <td>
            <a href="https://twitter.com/inveniosoftware">Twitter</a>
          </td>
        </tr>
        <tr>
          <td><a href="/blog/">Blog</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
    </div>
  </div>
  <div class="footer-bottom">
    <div class="container">
      <div class="row">
        <div class="col-md-12 centered">
          <span>Copyright &copy; 2016-2019 CERN &amp; contributors. Icons by <a href="http://fontawesome.io/">Font Awesome</a> and <a href="https://icons8.com/">Icons8</a>. Text is licensed under Creative Commons Attribution 4.0 International.<br>
          <span class="text-muted"><small></small></span>
        </div>
      </div>
    </div>
  </div>
</footer>
  <!-- Matomo -->
<script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://webanalytics.web.cern.ch/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '233']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
</script>
<!-- End Matomo Code -->


  <script>
    //Main navigation scroll spy for shadow
    $(window).scroll(function() {
      var y = $(window).scrollTop();
      if (y > 0) {
        $(".invenio-navbar").addClass('invenio-navbar-not-top');
      } else {
        $(".invenio-navbar").removeClass('invenio-navbar-not-top');
      }
    });
  </script>
</body>
